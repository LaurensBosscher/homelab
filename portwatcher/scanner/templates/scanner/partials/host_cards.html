<div class="grid">
    {% for host in hosts %}
    <div class="host-card">
        <h3>{{ host.name }}</h3>
        <p><code>{{ host.ip_address }}</code></p>

        {% if host.last_scan_at %}
            <span class="status-badge status-{% if host.last_scan_status == 'success' %}success{% elif host.last_scan_status == 'failed' %}error{% else %}warning{% endif %}">
                {{ host.last_scan_status|upper }}
            </span>

            <p>
                <strong>{{ host.total_open_ports }}</strong> open port(s)<br>
                <small>Last scan: {{ host.last_scan_at|timesince }} ago</small>
            </p>

            <a href="{% url 'host_detail' host.id %}" role="button">View Details</a>
        {% else %}
            <span class="status-badge status-warning">NO SCANS</span>
        {% endif %}
    </div>
    {% empty %}
    <p>No hosts configured. <a href="/admin/scanner/host/add/">Add a host</a></p>
    {% endfor %}
</div>
