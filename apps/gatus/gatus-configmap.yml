apiVersion: v1
kind: ConfigMap
metadata:
  name: gatus-config
  labels:
    app: gatus
data:
  config.yaml: |
    storage:
      type: sqlite
      path: /data/data.db

    endpoints:
      - name: homepage
        group: core
        url: "http://homepage.default.svc.cluster.local:3000"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1000"

      - name: argocd
        group: cluster
        url: "https://argocd-server.argocd.svc.cluster.local"
        interval: 5m
        client:
          insecure: true
        conditions:
          - "[STATUS] == 200"
          - "[CERTIFICATE_EXPIRATION] > 168h"

      - name: longhorn
        group: cluster
        url: "http://longhorn-frontend.longhorn-system.svc.cluster.local:80"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1000"

      - name: netalertx
        group: cluster
        url: "http://netalertx.netalertx.svc.cluster.local:20211"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1000"

      - name: kite
        group: cluster
        url: "http://kite.kube-system.svc.cluster.local:8080"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1000"

      - name: technitium-web
        group: cluster
        url: "http://technitium-web.technitium.svc.cluster.local:5380"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1000"

      - name: gatus
        group: cluster
        url: "http://gatus.gatus.svc.cluster.local:8080"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1000"

      - name: fusion
        group: news
        url: "http://fusion.fusion.svc.cluster.local:8080"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: shiori
        group: news
        url: "http://shiori.shiori.svc.cluster.local:8080"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: wanderer
        group: productivity
        url: "http://wanderer.wanderer.svc.cluster.local:3000"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: n8n
        group: productivity
        url: "http://n8n.n8n.svc.cluster.local:5678"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: calibre-web
        group: media
        url: "http://calibre-web.calibre-web.svc.cluster.local:8083"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: audiobookshelf
        group: media
        url: "http://audiobookshelf.audiobookshelf.svc.cluster.local:80"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: stremio
        group: media
        url: "http://stremio.stremio.svc.cluster.local:8080"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: aiostreams
        group: media
        url: "http://aiostreams.aiostreams.svc.cluster.local:3000"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: sabnzbd
        group: media
        url: "http://sabnzbd.sabnzbd.svc.cluster.local:8085"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: paperless
        group: media
        url: "http://paperless-web.paperless.svc.cluster.local:8000"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: docspell
        group: media
        url: "http://docspell-restserver.docspell.svc.cluster.local:7880"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: rdt-client
        group: media
        url: "http://rdt-client.rdt-client.svc.cluster.local:6500"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: your-spotify
        group: media
        url: "http://your-spotify-web.your-spotify.svc.cluster.local:3000"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
          - "[RESPONSE_TIME] < 1500"

      - name: technitium-dns-query
        group: networking
        url: "technitium.technitium.svc.cluster.local"
        interval: 5m
        dns:
          query-name: bosscher.ch
          query-type: A
        conditions:
          - "[BODY] != ''"
          - "[DNS_RCODE] == NOERROR"

      - name: cloudflare-icmp
        group: external
        url: "icmp://1.1.1.1"
        interval: 5m
        conditions:
          - "[CONNECTED] == true"
