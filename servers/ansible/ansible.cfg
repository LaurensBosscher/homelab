[defaults]
# parallelism (increase as your controller/hosts can handle)
forks = 6

# pipelining reduces number of SSH operations (requires no requiretty)
pipelining = True

# reduce connection timeout if you want faster failures
timeout = 30

# Smart gathering - only gather when needed
gathering = smart

# fact caching for faster repeated runs
fact_caching = jsonfile
fact_caching_connection = ~/.ansible_facts
fact_caching_timeout = 3600

# better callback for readability
stdout_callback = yaml
callbacks_enabled = timer, profile_tasks

# retry file location
retry_files_enabled = True
retry_files_save_path = ~/.ansible-retry

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=1h -o ServerAliveInterval=60 -o ServerAliveCountMax=3
control_path = /tmp/ansible-ssh-%%h-%%p-%%r